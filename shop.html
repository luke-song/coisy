<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shop</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />

  </head>
  <body>
    <section id="product1" class="section-p1">
    <h2>Featured Products</h2>
    <div class="pro-container">
      
        <div class="pro">
          <div class="overlay"></div>
        <img src="/public/model.png" alt="" />
        <div class="des">
          <span>shirt</span>
          <h5>pink shirt</h5>
          <div class="star">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <h4>$40</h4>
          </div>
          <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
      </div>

       <div class="pro">
        <div class="overlay"></div>
        <img src="/public/model.png" alt="" />
        <div class="des">
          <span>shirt</span>
          <h5>pink shirt</h5>
          <div class="star">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <h4>$40</h4>
          </div>
          <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
        </div>

       <div class="pro">
        <div class="overlay"></div>
        <img src="/public/model.png" alt="" />
        <div class="des">
          <span>shirt</span>
          <h5>pink shirt</h5>
          <div class="star">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <h4>$40</h4>
          </div>
          <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
        </div>

       <div class="pro">
        <div class="overlay"></div>
        <img src="/public/model.png" alt="" />
        <div class="des">
          <span>shirt</span>
          <h5>pink shirt</h5>
          <div class="star">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <h4>$40</h4>
          </div>
          <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
        </div>

       <div class="pro">
        <div class="overlay"></div>
  <img src="/public/model.png" alt="" />
  <div class="des">
    <span>shirt</span>
    <h5>pink shirt</h5>
    <div class="star">
      <i class="fas fa-star"></i>
      <i class="fas fa-star"></i>
      <i class="fas fa-star"></i>
      <i class="fas fa-star"></i>
      <i class="fas fa-star"></i>
    </div>
    <h4>$40</h4>
  </div>
  <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
</div>
      
    </div>
<script>
  // Select all elements with the class .pro
  const pros = document.querySelectorAll('.pro');

  // Function to add event listeners to each .pro element
  pros.forEach(pro => {
    const overlay = pro.querySelector('.overlay');

    pro.addEventListener('mousemove', function(e) {
      const { offsetX, offsetY } = e;
      
      const rotateY = calculateRotateY(offsetX);
      const rotateX = calculateRotateX(offsetY);

      console.log(offsetX, offsetY);

      overlay.style.backgroundPosition = `${calculateBackgroundPosition(offsetX, offsetY)}%`;
      overlay.style.opacity = calculateOpacity(offsetX);
      
      pro.style.transform = `perspective(2000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    });

    pro.addEventListener('mouseout', function() {
      overlay.style.opacity = '0';
      pro.style.transform = 'perspective(2000px) rotateY(0deg) rotateX(0deg)';
    });
  });

  function calculateRotateY(x) {
    return -1/5 * x + 40;
  }

  function calculateRotateX(y) {
    return 4/30 * y - 40;
  }

  function calculateBackgroundPosition(x, y) {
    return x / 5 + y / 5;
  }

  function calculateOpacity(x) {
    return x / 500;
  }
</script>

  </body>
</html>
